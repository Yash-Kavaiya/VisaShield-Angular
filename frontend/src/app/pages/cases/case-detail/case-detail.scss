.case-detail-page {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
}

// ========================================
// CASE HEADER
// ========================================
.case-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: var(--space-4);
    background: var(--color-white-pure);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-card);
}

.back-link {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    font-size: 0.8125rem;
    color: var(--color-gray-500);
    text-decoration: none;
    margin-bottom: var(--space-3);

    &:hover {
        color: var(--color-blue-secondary);
    }
}

.case-title-row {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-2);
}

.case-number {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-navy-primary);
    margin: 0;
}

.case-meta {
    font-size: 0.8125rem;
    color: var(--color-gray-500);

    .separator {
        margin: 0 var(--space-2);
    }
}

.header-actions {
    display: flex;
    gap: var(--space-2);
    flex-shrink: 0;
}

// ========================================
// TABS
// ========================================
.tabs-nav {
    display: flex;
    gap: var(--space-1);
    border-bottom: 1px solid var(--color-gray-200);
    background: var(--color-white-pure);
    padding: 0 var(--space-4);
    border-radius: var(--radius-lg) var(--radius-lg) 0 0;
}

.tab-btn {
    padding: var(--space-3) var(--space-4);
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--color-gray-500);
    background: transparent;
    border: none;
    border-bottom: 2px solid transparent;
    cursor: pointer;
    transition: all var(--transition-fast);
    margin-bottom: -1px;

    &:hover {
        color: var(--color-gray-700);
    }

    &.active {
        color: var(--color-navy-primary);
        border-bottom-color: var(--color-navy-primary);
    }
}

// ========================================
// TAB CONTENT
// ========================================
.tab-content {
    min-height: 400px;
}

// ========================================
// OVERVIEW TAB
// ========================================
.overview-grid {
    display: grid;
    grid-template-columns: 65% 35%;
    gap: var(--space-4);
}

.overview-left,
.overview-right {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
}

// Cards
.card {
    background: var(--color-white-pure);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-card);
    overflow: hidden;
}

.card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4);
    border-bottom: 1px solid var(--color-gray-100);
}

.card-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-gray-900);
    margin: 0;
}

.card-body {
    padding: var(--space-4);
}

.toggle-btn {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: 0.75rem;
    color: var(--color-gray-500);
    background: none;
    border: none;
    cursor: pointer;

    &:hover {
        color: var(--color-blue-secondary);
    }
}

// Info grid
.info-grid {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.info-row {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-2) 0;
    border-bottom: 1px solid var(--color-gray-50);

    &:last-child {
        border-bottom: none;
    }
}

.info-icon {
    color: var(--color-gray-400);
    flex-shrink: 0;
}

.info-label {
    font-size: 0.8125rem;
    color: var(--color-gray-500);
    min-width: 140px;
}

.info-value {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--color-gray-900);
    flex: 1;
}

.copy-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    background: var(--color-gray-100);
    border: none;
    border-radius: var(--radius-sm);
    color: var(--color-gray-500);
    cursor: pointer;

    &:hover {
        background: var(--color-gray-200);
        color: var(--color-gray-700);
    }
}

// Evidence list
.evidence-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.evidence-item {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3);
    border-radius: var(--radius-md);
    background: var(--color-gray-50);
    transition: background var(--transition-fast);

    &:hover {
        background: var(--color-gray-100);
    }

    &.status-verified .evidence-icon {
        color: var(--color-success);
    }

    &.status-pending .evidence-icon {
        color: var(--color-warning);
    }

    &.status-missing .evidence-icon {
        color: var(--color-danger);
    }
}

.evidence-name {
    flex: 1;
    font-size: 0.875rem;
    font-weight: 500;
}

.evidence-status {
    font-size: 0.75rem;
    color: var(--color-gray-500);
}

// AI Summary Card
.ai-summary-card .card-body {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-4);
}

.confidence-gauge {
    text-align: center;
}

.gauge-circle {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: conic-gradient(var(--color-success) var(--confidence, 0%),
            var(--color-gray-200) var(--confidence, 0%) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    margin: 0 auto var(--space-2);

    &::before {
        content: '';
        position: absolute;
        width: 90px;
        height: 90px;
        background: var(--color-white-pure);
        border-radius: 50%;
    }
}

.gauge-value {
    position: relative;
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--color-navy-primary);
}

.gauge-label {
    font-size: 0.75rem;
    color: var(--color-gray-500);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.recommendation-badge {
    padding: var(--space-2) var(--space-4);
    font-size: 0.8125rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    background: var(--badge-pending-bg);
    color: var(--badge-pending-text);
    border-radius: var(--radius-full);

    &.approvable {
        background: var(--badge-approved-bg);
        color: var(--badge-approved-text);
    }
}

.key-findings {
    width: 100%;

    h4 {
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: var(--color-gray-500);
        margin-bottom: var(--space-2);
    }

    ul {
        padding-left: 0;
    }

    li {
        font-size: 0.8125rem;
        color: var(--color-gray-700);
        padding: var(--space-1) 0;
    }
}

// Mini Timeline
.mini-timeline {
    position: relative;
    padding-left: var(--space-4);

    &::before {
        content: '';
        position: absolute;
        left: 7px;
        top: 0;
        bottom: 0;
        width: 2px;
        background: var(--color-gray-200);
    }
}

.timeline-item {
    position: relative;
    padding-bottom: var(--space-3);

    &:last-child {
        padding-bottom: 0;
    }
}

.timeline-dot {
    position: absolute;
    left: calc(var(--space-4) * -1 + 4px);
    top: 2px;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--color-gray-300);
    border: 2px solid var(--color-white-pure);
    z-index: 1;
}

.timeline-completed .timeline-dot {
    background: var(--color-success);
}

.timeline-current .timeline-dot {
    background: var(--color-blue-secondary);
    box-shadow: 0 0 0 4px rgba(30, 90, 168, 0.2);
}

.timeline-pending .timeline-dot {
    background: var(--color-gray-300);
}

.timeline-content {
    display: flex;
    justify-content: space-between;
    gap: var(--space-2);
}

.timeline-title {
    font-size: 0.8125rem;
    font-weight: 500;
    color: var(--color-gray-900);
}

.timeline-date {
    font-size: 0.75rem;
    color: var(--color-gray-500);
    white-space: nowrap;
}

// Team members
.team-members {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.team-member {
    display: flex;
    align-items: center;
    gap: var(--space-3);
}

.member-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--color-navy-primary);
    color: var(--color-white-pure);
    font-size: 0.8125rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.member-info {
    flex: 1;
}

.member-name {
    display: block;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--color-gray-900);
}

.member-role {
    display: block;
    font-size: 0.75rem;
    color: var(--color-gray-500);
}

.contact-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: var(--color-gray-100);
    border: none;
    border-radius: var(--radius-sm);
    color: var(--color-gray-500);
    cursor: pointer;

    &:hover {
        background: var(--color-gray-200);
        color: var(--color-blue-secondary);
    }
}

// ========================================
// AI ANALYSIS TAB
// ========================================
.criteria-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.criterion-item {
    padding: var(--space-4);
    border-radius: var(--radius-md);
    border: 1px solid var(--color-gray-200);
    transition: all var(--transition-fast);

    &:hover {
        border-color: var(--color-gray-300);
    }

    &.criterion-pass {
        border-left: 4px solid var(--color-success);

        .criterion-status {
            color: var(--color-success);
        }
    }

    &.criterion-warning {
        border-left: 4px solid var(--color-warning);

        .criterion-status {
            color: var(--color-warning);
        }
    }

    &.criterion-fail {
        border-left: 4px solid var(--color-danger);

        .criterion-status {
            color: var(--color-danger);
        }
    }
}

.criterion-header {
    display: flex;
    gap: var(--space-3);
}

.criterion-status {
    flex-shrink: 0;
}

.criterion-info {
    flex: 1;
}

.criterion-name {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-gray-900);
    margin: 0 0 var(--space-1);
}

.criterion-note {
    font-size: 0.875rem;
    color: var(--color-gray-600);
    margin: 0;
}

.criterion-confidence {
    flex-shrink: 0;

    .confidence-value {
        font-size: 1.25rem;
        font-weight: 700;
    }
}

// Hallucination card
.hallucination-card {
    margin-top: var(--space-4);
}

.hallucination-status {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
    padding: var(--space-4);

    &.success {
        background: rgba(46, 125, 50, 0.1);
        color: var(--color-success);
    }

    h4 {
        font-size: 1rem;
        font-weight: 600;
        color: var(--color-success);
        margin: 0 0 var(--space-1);
    }

    p {
        font-size: 0.875rem;
        color: var(--color-gray-600);
        margin: 0;
    }
}

// ========================================
// TIMELINE TAB
// ========================================
.full-timeline {
    position: relative;
    padding-left: var(--space-8);
}

.timeline-event {
    position: relative;
    padding-bottom: var(--space-6);

    &:last-child {
        padding-bottom: 0;
    }
}

.event-line {
    position: absolute;
    left: calc(var(--space-8) * -1 + 12px);
    top: 0;
    bottom: 0;
    width: 2px;
    background: var(--color-gray-200);
}

.event-dot {
    position: absolute;
    left: -6px;
    top: 4px;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: var(--color-gray-300);
    border: 3px solid var(--color-white-pure);
}

.event-completed .event-dot {
    background: var(--color-success);
}

.event-current .event-dot {
    background: var(--color-blue-secondary);
    box-shadow: 0 0 0 4px rgba(30, 90, 168, 0.2);
}

.event-pending .event-dot {
    background: var(--color-gray-300);
}

.event-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-gray-900);
    margin: 0 0 var(--space-1);
}

.event-description {
    font-size: 0.875rem;
    color: var(--color-gray-600);
    margin: 0 0 var(--space-2);
}

.event-date {
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--color-gray-500);
}

// ========================================
// DOCUMENTS TAB & NOTES TAB
// ========================================
.documents-table {
    overflow-x: auto;
}

.doc-name {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-weight: 500;
}

.doc-status {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    font-size: 0.8125rem;

    &.status-verified {
        color: var(--color-success);
    }

    &.status-pending {
        color: var(--color-warning);
    }

    &.status-missing {
        color: var(--color-danger);
    }
}

.empty-state {
    text-align: center;
    padding: var(--space-10);
    color: var(--color-gray-400);

    h4 {
        margin: var(--space-3) 0 var(--space-1);
        color: var(--color-gray-600);
    }

    p {
        font-size: 0.875rem;
    }
}

// ========================================
// RESPONSIVE
// ========================================
@media (max-width: 1024px) {
    .case-header {
        flex-direction: column;
        gap: var(--space-4);
    }

    .header-actions {
        width: 100%;
        flex-wrap: wrap;
    }

    .overview-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .tabs-nav {
        overflow-x: auto;
        padding: 0 var(--space-2);
    }

    .tab-btn {
        padding: var(--space-3);
        white-space: nowrap;
    }
}