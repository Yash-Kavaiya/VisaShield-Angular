<div class="documents-page">
    <!-- Header -->
    <div class="page-header">
        <div class="header-content">
            <h1 class="page-title">Documents</h1>
            <p class="page-description">Manage case files and internal documentation</p>
        </div>
        <button (click)="uploadDocument()" class="btn btn-primary">
            <lucide-icon [img]="icons.upload" [size]="18"></lucide-icon>
            Upload Document
        </button>
    </div>

    <!-- Document Table Card -->
    <div class="table-card">
        <!-- Toolbar -->
        <div class="toolbar">
            <div class="form-input-wrapper">
                <lucide-icon [img]="icons.search" [size]="18" class="input-icon"></lucide-icon>
                <input [(ngModel)]="searchQuery" type="text"
                    placeholder="Search documents by name, case ID, or uploader..." class="form-input">
            </div>
            <select [(ngModel)]="selectedFilter" class="form-select">
                <option value="all">All Categories</option>
                <option value="identification">Identification</option>
                <option value="employment">Employment</option>
                <option value="education">Education</option>
                <option value="legal">Legal</option>
            </select>
        </div>

        <!-- Table Header -->
        <div class="table-header">
            <div>Name</div>
            <div>Category</div>
            <div>Date Uploaded</div>
            <div>Uploaded By</div>
            <div class="text-right">Actions</div>
        </div>

        <!-- Table Body -->
        <div class="table-body">
            @for (doc of filteredDocuments(); track doc.id) {
            <div class="doc-row">
                <!-- Name & Icon -->
                <div class="col-name">
                    <div class="doc-icon-wrapper" [class]="doc.type.toLowerCase()">
                        <lucide-icon [img]="icons.file" [size]="20"></lucide-icon>
                    </div>
                    <div class="doc-info">
                        <span class="doc-title" title="{{ doc.name }}">{{ doc.name }}</span>
                        <div class="doc-meta">
                            <span>{{ doc.size }}</span>
                            <span>â€¢</span>
                            <span>{{ doc.caseId }}</span>
                        </div>
                    </div>
                </div>

                <!-- Category -->
                <div>
                    <span class="category-tag">{{ doc.category }}</span>
                </div>

                <!-- Date -->
                <div class="col-text">
                    {{ doc.uploadDate }}
                </div>

                <!-- Uploaded By -->
                <div class="col-user">
                    <div class="user-avatar-sm">{{ doc.uploadedBy.charAt(0) }}</div>
                    <span class="user-name">{{ doc.uploadedBy }}</span>
                </div>

                <!-- Actions -->
                <div class="row-actions">
                    <button (click)="viewDocument(doc)" class="btn-icon" title="View">
                        <lucide-icon [img]="icons.eye" [size]="18"></lucide-icon>
                    </button>
                    <button (click)="downloadDocument(doc)" class="btn-icon" title="Download">
                        <lucide-icon [img]="icons.download" [size]="18"></lucide-icon>
                    </button>
                </div>
            </div>
            }

            @if (filteredDocuments().length === 0) {
            <div class="empty-state">
                <lucide-icon [img]="icons.search" [size]="48"></lucide-icon>
                <p>No documents found matching your search.</p>
            </div>
            }
        </div>
    </div>
</div>